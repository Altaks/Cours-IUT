Un [[1. La numération actuelle|système de numération]] permet de représenté un nombre avec un ensemble choisi de caractères

### Proposition

Soit $x$ et $b$ alors il existe $n$ nombres entier uniques tels que :  
$$
\large x = a_nb^n + a_{n-1}b^{n-1} + \dots + a_1b^1 + a_0b^0
$$
### Exemple : 

$$
\large \begin{array}{cll}
25 &=&  2 \times 10^1 + 5 \times 10^0 &\qquad : \text{ base  10} \\
  &=&  2^4 + 2^3 + 1 &\qquad : \text{ base  2}  
\end{array}
$$
### Remarques 

La base 2 est appelée binaire, la base 3 ternaire, la base 10 se nomme décimale (notre système).

La base 16 est appelée hexadécimale.

Les Shadoks, par exemple, utilisent la base 4 et également une prononciation typique.

Le problème est que certains nombres ne sont pas représentables dans une base donnée, en particulier en binaire.

Par exemple $\cfrac{1}{10}$ n'est pas représentable en base 2 et devrai être approché au mieux par un nombre binaire.

>[!danger] $\cfrac{1}{10}$ non représentable en binaire. Bilan : 28 morts...
>Lors de la première guerre du Golfe, dans un programme chargé par l'interception des missiles Patriot sur les missiles Scud, une horloge incrémentait le temps en dixième de seconde.
> 
> Temps stocké en binaire, Comme $\cfrac{1}{10}$ n'est pas représentable en base 2, une erreur de $0.34$ seconde s'est accumulée au bout de 100 heures. C'est le temps qu'un Scud met pour parcourir 500 mètres.
> 
> Les mesures d'interception ont donc échoué et 28 soldats américains sont morts.

La représentation des nombres réels dan l'ordinateur est un problème complexe. En effet ils ont la puissance du continu contrairement aux nombres entiers. 

Ainsi, quel que soit la capacité de l'ordinateur, les représentations exactes des réels restera un problème, insoluble ? Il faut donc accepter de travailler avec des approximations. Une des méthodes est celle de la virgule flottante.

### Définition

Un système de nombre à virgule flottante dans la base $b$, pour une mantisse de taille $p$ et un exposant compris entre $e_{min}$ et $e_{max}$ est l'ensemble de nombres réels tels que :  $s \times m \times b^e$ où $s = \pm 1, m$ est un nombre à virgule exprimé dans la base $b$ ayant au plus $p$ chiffres et $e$ un nombre entier compris entre $e_{min}$ et $e_{max}$.

### Remarques

1. $m$ est appelé mantisse, $e$ exposant et $p$ précision. Le but étant de représenter des nombres réels, plus $p$ est grand et plus la représentation est précise (ou l'erreur petite)
   
2. En général, la base 2 est utilisée en informatique et la base 10 pour les calculs scientifiques (on entend ici l'écriture en puissance de 10)
   
3. La représentation d'un nombre réel en virgule flottante n'est pas unique. Donc au moment de l'utiliser dans les différentes machines, personne ne s'est mis d'accord sur le système de virgule flottant (en dehors de la base 2), et cela a donné lieu à de nombreux problèmes de compatibilité

### Exemple

Les représentations du nombre $\pi$ en base $10$, pour une mantisse de taille $4$ et un exposant entre $-4$ et $4$ sont nombreuses : 
$$
\begin{align}
\pi &\rightarrow 3.1415 \times 10 ^ {\phantom{-}0} \\
\pi &\rightarrow 31.415 \times 10 ^ {-1} \\
\pi &\rightarrow 314.15 \times 10 ^ {-2} \\
\pi &\rightarrow 3141.5 \times 10 ^ {-3} \\
\pi &\rightarrow 31415. \times 10 ^ {-4} \\
\end{align}
$$

En 1985, pour unifier la représentation des nombres réels en virgule flottante en base 2, le standard [IEEE-754](https://fr.wikipedia.org/wiki/IEEE_754) est apparu. Quatre formats sont définis : la simple-précision, la simple-précision étendue (devenue obsolète), la double précision et la double-précision étendue.

##### IEEE-754 : Simple précision

$$
\overset{\Large \text{Nombre en simple précision}}{\overbrace{\underset{\large \text{Signe}}{\underbracket{
\boxed{0}}}
\quad
\underset{\large \text{Mantisse}}{\underbracket{
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}}}
\quad
\underset{\large \text{Exposant}}{\underbracket{
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}
\boxed{0}}}\quad}}
$$

| Nom                      | Taille totale | Mantisse | Exposant |
| ------------------------ | ------------- | -------- | -------- |
| Simple précision         | 32 bits       | 23 bits  | 8 bits   |
| Double précision         | 64 bits       | 52 bits  | 11 bits  |
| Double précision étendue | 79 bits       | 64 bits  | 15 bits  | 

Il ne faut pas oublier de mettre en oeuvre des méthodes pour éviter que les erreurs se cumulent.

###### Conversion à 7 milliards de dollars

La première fusée Ariane 5 a explosé à cause d'une conversion d'un nombre flottant 64-bits vers un flottant 16 bits. Cette erreur à coûté...

###### Erreur de la banque en votre faveur (oui oui, comme au Monopoly)

En 1982, la bourse de Vancouver a réalisé une valeur approché toujours dans le même sens, ce qui a conduit à une accumulation d'erreurs.

Le nouvel indice de $1000$ au départ, valait $1098,8$ au bout de 22 mois mais le calcul de la banque donnait $524,9$.

###### Remarque 

Les compilateurs en C utilisent généralement la simple précision pour les types `float`, la double précision pour les types `double` et la double précision pour les types `long double`. 

**Cours à voir :**
- [[5.2 Divisiblité dans Z]]