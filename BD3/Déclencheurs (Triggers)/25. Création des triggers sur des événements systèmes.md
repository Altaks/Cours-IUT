Il existe également des triggers sur les évènements de la base de données et les évènements systèmes.

Les triggers sur des évènements systèmes peuvent être définit au niveau de la base de données ou au niveau du schéma. Par exemple un trigger d'extinction de la base de données est défini au niveau de la base de données.

Ce type de trigger est déclenché lorsque la base est arrêtée ou démarrée ou lorsqu'une erreur particulière ou n'importe quelle erreur survient.

```SQL
CREATE [OR REPLACE] TRIGGER <nom_trigger>
BEFORE | AFTER
<évènement_système> ON SCHEMA | DATABASE
[bloc plsql];
```

Il existe 5 types de triggers sur les évènements systèmes : 

- `AFTER SERVERERROR` : Le serveur Oracle déclenche le trigger à chaque fois qu'un message d'erreur est enregistré.

- `AFTER LOGON` : Le serveur Oracle déclenche le trigger pour chaque connexion d'un utilisateur sur la base de données.

- `BEFORE LOGOFF` : Le serveur Oracle déclenche le trigger pour chaque déconnexion d'un utilisateur de la base de données.

- `AFTER STARTUP` : Le serveur oracle déclenche le trigger quand la base de données est démarrée.

- `BEFORE SHUTDOWN` : Le serveur Oracle déclenche le trigger quand la base de données est arrêtée normalement

>[!tip] Remarque 
>`AFTER LOGON` et `BEFORE SHUTDOWN` ne s'appliquent qu'à la base de donnée et pas à un schéma.

Grâce aux trigger d'évènements systèmes on peut créer un trigger pour surveiller la fréquence de connexions des utilisateurs ainsi que le temps qu'ils restent connectés.

```SQL
CREATE OR REPLACE TRIGGER trigger_logon
AFTER logon ON SCHEMA
BEGIN
	INSERT INTO log_trig_table(user_id, log_date, action)
	VALUES (USER, SYSDATE, 'Logging on');
END;
/

CREATE OR REPLACE TRIGGER trigger_logoff
AFTER logoff ON SCHEMA
BEGIN
	INSERT INTO log_trig_table(user_id, log_date, action)
	VALUES (USER, SYSDATE, 'Logging off');
END;
/
```

**Cours à voir :**
- [[26. Déclencheurs et les tables en cours de modifications]]