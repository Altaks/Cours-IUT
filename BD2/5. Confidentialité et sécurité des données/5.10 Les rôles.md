>[!important] Définition
>Un rôle est un ensemble de privilèges objets et système et éventuellement de rôles (oui, vous pouvez ajouter un rôle dans un rôle, rôle-ception !)

Voici la syntaxe SQL : 

```SQL
CREATE ROLE nom_role;
```

L'objectif des rôles est de consolider la sécurité tout en facilitant sa gestion. Pour une base de donnée, il y a en général deux niveaux de rôles, le niveau application et le niveau utilisateur.

- Un rôle au niveau application contient tous les privilèges et rôles nécessaires à l'exécution d'une application. Les privilèges contenus dans un rôle niveau application sont bien souvent des privilèges objets.

- Un rôle au niveau utilisateur contient tous les privilèges et rôles nécessaires à un type d'utilisateur. Ce type de rôles contient souvent des privilèges systèmes.

<center><?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="htrenderingtp://www.w3.org/1999/xlink" fill-opacity="1" color-rendering="auto" color-interpolation="auto" text-rendering="auto" stroke="black" stroke-linecap="square" width="678" stroke-miterlimit="10" shape-rendering="auto" stroke-opacity="1" fill="black" stroke-dasharray="none" font-weight="normal" stroke-width="1" height="348" font-family="'Dialog'" font-style="normal" stroke-linejoin="miter" font-size="12px" stroke-dashoffset="0" image-rendering="auto">  <!--Generated by ySVG 2.6-->  <defs id="genericDefs"/>  <g>    <defs id="defs1">      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath1">        <path d="M0 0 L678 0 L678 348 L0 348 L0 0 Z"/>      </clipPath>      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath2">        <path d="M120 96 L798 96 L798 444 L120 444 L120 96 Z"/>      </clipPath>    </defs>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="137" y="320" clip-path="url(#clipPath2)" width="124" rx="4" ry="4" height="38" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect x="137" y="320" clip-path="url(#clipPath2)" fill="none" width="124" rx="4" ry="4" height="38"/>      <text x="159.3145" xml:space="preserve" y="336.3633" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Rôle utilisateur</text>      <text x="151.9639" xml:space="preserve" y="351.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">gestion_etudiants</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="413.5" y="320" clip-path="url(#clipPath2)" width="89" rx="4" ry="4" height="38" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect x="413.5" y="320" clip-path="url(#clipPath2)" fill="none" width="89" rx="4" ry="4" height="38"/>      <text x="445.6602" xml:space="preserve" y="336.3633" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Rôle</text>      <text x="419.3193" xml:space="preserve" y="351.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Administrateur</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="659" y="320" clip-path="url(#clipPath2)" width="124" rx="4" ry="4" height="38" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect x="659" y="320" clip-path="url(#clipPath2)" fill="none" width="124" rx="4" ry="4" height="38"/>      <text x="681.3145" xml:space="preserve" y="336.3633" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Rôle utilisateur</text>      <text x="673.9697" xml:space="preserve" y="351.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">gestion_examens</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="518" y="320" clip-path="url(#clipPath2)" width="111" rx="4" ry="4" height="38" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect x="518" y="320" clip-path="url(#clipPath2)" fill="none" width="111" rx="4" ry="4" height="38"/>      <text x="539.8174" xml:space="preserve" y="336.3633" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Rôle admin :</text>      <text x="526.4697" xml:space="preserve" y="351.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">gestion_examens</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="287" y="320" clip-path="url(#clipPath2)" width="111" rx="4" ry="4" height="38" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect x="287" y="320" clip-path="url(#clipPath2)" fill="none" width="111" rx="4" ry="4" height="38"/>      <text x="308.8174" xml:space="preserve" y="336.3633" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Rôle admin ;</text>      <text x="298.4639" xml:space="preserve" y="351.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">gestion_etudiant</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="472" y="241" clip-path="url(#clipPath2)" width="111" rx="4" ry="4" height="38" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect x="472" y="241" clip-path="url(#clipPath2)" fill="none" width="111" rx="4" ry="4" height="38"/>      <text x="511.8262" xml:space="preserve" y="257.3633" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Rôle :</text>      <text x="480.4697" xml:space="preserve" y="272.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">gestion_examens</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="329" y="241" clip-path="url(#clipPath2)" width="111" rx="4" ry="4" height="38" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect x="329" y="241" clip-path="url(#clipPath2)" fill="none" width="111" rx="4" ry="4" height="38"/>      <text x="368.8262" xml:space="preserve" y="257.3633" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Rôle :</text>      <text x="339.1309" xml:space="preserve" y="272.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">gestion_etudians</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <circle r="36" clip-path="url(#clipPath2)" cx="458" cy="147" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <circle fill="none" r="36" clip-path="url(#clipPath2)" cx="458" cy="147"/>      <text x="441.9922" xml:space="preserve" y="151.7139" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">BASE</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <rect x="135" width="646" height="30" y="399" clip-path="url(#clipPath2)" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <rect fill="none" x="135" width="646" height="30" y="399" clip-path="url(#clipPath2)"/>      <text x="181.3379" xml:space="preserve" y="418.7139" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">U1 ... Un                              A1 ... An                     Admin                   A'1 ... A'p                           U'1 ... U'q</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <ellipse rx="74.5" ry="43" clip-path="url(#clipPath2)" cx="697.5" cy="162" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <ellipse rx="74.5" fill="none" ry="43" clip-path="url(#clipPath2)" cx="697.5" cy="162"/>      <text x="637.8076" xml:space="preserve" y="152.0127" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Privilèges nécessaires</text>      <text x="640.1689" xml:space="preserve" y="166.7139" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">à l'execution de l'app </text>      <text x="646.21" xml:space="preserve" y="181.415" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">"gestion_examens"</text>    </g>    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke="rgb(255,204,0)">      <ellipse rx="74.5" ry="43" clip-path="url(#clipPath2)" cx="211.5" cy="162" stroke="none"/>    </g>    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-120,-96)" stroke-linecap="butt">      <ellipse rx="74.5" fill="none" ry="43" clip-path="url(#clipPath2)" cx="211.5" cy="162"/>      <text x="151.8076" xml:space="preserve" y="152.0127" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Privilèges nécessaires</text>      <text x="154.1689" xml:space="preserve" y="166.7139" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">à l'execution de l'app </text>      <text x="160.2041" xml:space="preserve" y="181.415" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">"gestion_étudiants"</text>      <path fill="none" d="M474.7133 320.0022 L505.488 285.0208" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M510.7722 279.0144 L499.0919 284.7215 L504.8275 285.7717 L506.6 291.3267 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M562.4268 319.9829 L542.5936 285.9217" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M538.5681 279.0083 L540.2855 291.8943 L543.0968 286.7859 L548.9272 286.8624 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M660.8242 320.6572 L588.0105 282.2278" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M580.9354 278.4937 L589.2143 288.5167 L588.8949 282.6945 L593.8818 279.6729 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M440.3248 320.0022 L407.6399 284.8714" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M402.1906 279.0144 L406.7039 291.2058 L408.321 285.6036 L414.0252 284.3942 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M352.6104 319.9829 L370.6389 286.072" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M374.3943 279.0083 L364.3463 287.2568 L370.1695 286.955 L373.1761 291.951 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M257.0549 319.9834 L323.0687 281.6853" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M329.9885 277.6708 L317.0997 279.3677 L322.2037 282.1872 L322.1179 288.0175 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M396.8636 240.9919 L434.009 183.8841" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M438.371 177.1779 L427.6367 184.5109 L433.4638 184.7223 L436.0194 189.9634 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M515.8092 240.9919 L481.051 184.4787" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M476.8599 177.6644 L478.8876 190.5052 L481.5749 185.3304 L487.4055 185.2664 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M197.3779 399.0166 L198.2698 366.016" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M198.486 358.019 L193.1636 369.8795 L198.2428 367.0157 L203.1599 370.1497 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M226.0858 398.9895 L210.8754 365.3016" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M207.5834 358.0103 L207.9644 371.0048 L211.2869 366.213 L217.0785 366.8897 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M719.3994 399.022 L720.2795 366.0178" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M720.4928 358.0206 L715.1747 369.8831 L720.2529 367.0174 L725.1711 370.1497 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M687.0845 399.0044 L706.3159 364.9796" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M710.2524 358.015 L699.9949 366.0015 L705.8239 365.8501 L708.7005 370.9221 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M340.8564 398.9897 L341.7601 366.0074" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M341.9792 358.0104 L336.6524 369.869 L341.7327 367.007 L346.6487 370.1428 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M571.5 398.9766 L572.5996 366.0018" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M572.8662 358.0063 L567.4691 369.833 L572.5663 367.0013 L577.4635 370.1662 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M549.0911 399.022 L562.7513 365.4313" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M565.765 358.0207 L556.6128 367.2531 L562.3746 366.3576 L565.8761 371.0202 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M366.9089 399.022 L353.2487 365.4313" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M350.235 358.0207 L350.1239 371.0202 L353.6254 366.3576 L359.3872 367.2531 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M458 399 L458 366.0137" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M458 358.0137 L453 370.0137 L458 367.0137 L463 370.0137 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M650.2841 195.2614 L588.9955 238.4364" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M582.4553 243.0436 L595.1451 240.2204 L589.813 237.8605 L589.386 232.0452 Z" clip-path="url(#clipPath2)" stroke="none"/>      <path fill="none" d="M259.8997 194.6897 L323.543 237.6749" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>      <path fill="rgb(255,153,0)" d="M330.1725 242.1526 L323.0267 231.2926 L322.7143 237.1152 L317.4297 239.5795 Z" clip-path="url(#clipPath2)" stroke="none"/>    </g>  </g></svg></center>

Avant qu'un utilisateur ne puisse faire usage d'un rôle qu'il vient de recevoir, il doit l'activer. Ceci se fait au moyen de la commande `SET ROLE`. Par exemple : 

```SQL
SET ROLE liste_roles;
```

Les rôles ne figurant pas dans la `liste_roles` sont désactivés. Pour remédier à cela, on peut utiliser `SET ROLE ALL` pour activer tous les rôles dont on dispose. Il est également possible de de désactiver un rôle au moyen de l'option `EXCEPT` : 

```SQL
SET ROLE ALL EXCEPT liste_roles;
```

Pour supprimer un rôle, et par conséquence tous les privilèges qu'il contient pour tous les utilisateurs qui le possèdent, il suffit que le créateur du rôle exécute la commande suivante : 

```SQL
DROP ROLE nom_role;
```

---

### Quelques rôles particuliers

- `CONNECT` *(CREATE SESSION)* : Ce rôle contient les privilèges systèmes permettant de se connecter à la  base et de créer des tables, vues, séquences, clusters et synonymes.

- `RESOURCE` : Ce rôle est composé des privilèges systèmes permettant de créer des procédures, des déclencheurs (triggers) et des types de données.

- `DBA` : Ce rôle, qui est très important, comporte lui-même plusieurs autres rôles, un ensemble impressionnant de privilèges systèmes et objets portant sur les tables du système du dictionnaire de la base.
  
  Le rôle `DBA` est nécessaire à l’administration de la base et ne doit être accordé qu'aux utilisateurs remplissant cette fonction.

**Cours à voir :**
 - [[5.11 Confidentialité des données - les vues]]